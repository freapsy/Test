<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Impressum - NorthDrive</title>
  <link rel="stylesheet" href="transport-style.css">
</head>
<body>
  <div class="main-wrapper">

    <header class="section hero-small">
      <div class="hero-nav-container">
        <a href="index.html"><img src="logo.png" alt="NorthDrive Logo" class="logo"></a>
        <nav class="hero-nav">
          <ul>
            <li><a href="index.html">Startseite</a></li>
            <li><a href="team.html">Team</a></li>
            <li><a href="ueber_uns.html">Über Uns</a></li>
            <li><a href="login.html" id="loginLink">Login</a></li>
            <li><a href="impressum.html" class="active">Impressum</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <div class="section">
      <h1>Impressum</h1>
      
      <div class="impressum-content">
        <p class="text-intro">Angaben gemäß § 5 TMG</p>
        
        <div class="impressum-block">
          <h2>Unternehmen</h2>
          <p class="impressum-data company-name"><strong>NorthDrive GbR</strong></p>
          <p class="impressum-data"><strong>Vertreten durch:</strong>&nbsp;Tim Frenkel & Frederik Waller</p>
          <p class="impressum-data"><strong>Adresse:</strong>&nbsp;Ringstraße 34, 24103 Kiel</p>
          <p class="impressum-data"><strong>E-Mail:</strong>&nbsp;<a href="mailto:info@northdrive.de">info@northdrive.de</a></p>
          <p class="impressum-data"><strong>Telefon:</strong>&nbsp;<a href="tel:+4915775486116">+49 (0) 157 / 7548 6116</a></p>
        </div>
        
        <div class="impressum-block">
          <h2>Verantwortlich für den Inhalt nach § 55 Abs. 2 RStV</h2>
          <p class="impressum-data">Tim Frenkel & Frederik Waller</p>
          <p class="impressum-data">Ringstraße 34</p>
          <p class="impressum-data">24103 Kiel</p>
        </div>
        
        <div class="impressum-block">
          <h2>EU-Streitschlichtung</h2>
          <p>Die Europäische Kommission stellt eine Plattform zur Online-Streitbeilegung (OS) bereit: <a href="https://ec.europa.eu/consumers/odr/" target="_blank" rel="noopener">https://ec.europa.eu/consumers/odr/</a>.<br>Unsere E-Mail-Adresse finden Sie oben im Impressum.</p>
        </div>
        
        <div class="impressum-block">
          <h2>Verbraucher­streit­beilegung/Universal­schlichtungs­stelle</h2>
          <p>Wir sind nicht bereit oder verpflichtet, an Streitbeilegungsverfahren vor einer Verbraucherschlichtungsstelle teilzunehmen.</p>
        </div>
      </div>
    </div>

  </div>
  
  <style>
    .impressum-content {
      margin-top: var(--spacing-lg);
    }
    
    .impressum-block {
      margin-bottom: var(--spacing-2xl);
      background-color: var(--bg-light);
      padding: 1.5rem;
      border-radius: 4px;
    }
    
    .impressum-data {
      margin-bottom: var(--spacing-sm);
      line-height: 1.6;
    }
    
    .impressum-data.company-name {
      margin-bottom: var(--spacing-md);
    }
    
    .impressum-data.company-name strong {
      font-size: 1.2rem;
      color: var(--primary-navy);
    }
    
    @media (max-width: 768px) {
      .impressum-data strong {
        display: block;
        margin-bottom: 0.25rem;
      }
    }
    
    @media (max-width: 480px) {
      .impressum-data.company-name strong {
        font-size: 1.1rem;
      }
    }
  </style>

  <script type="module">
    // Firebase SDK v9+ modular imports
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";
    import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

    // Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyC_KAYTuhfjpASvzvI1zgdNam7BzliB3mM",
      authDomain: "appnorthdrive.firebaseapp.com",
      projectId: "appnorthdrive",
      storageBucket: "appnorthdrive.firebasestorage.app",
      messagingSenderId: "559746363897",
      appId: "1:559746363897:web:959bffc6e2f374e5448d28",
      measurementId: "G-ZSJL11E70J"
    };

    // Deklariere Variablen außerhalb des try-catch-Blocks
    let app, auth, db;

    // Initialize Firebase
    try {
      app = initializeApp(firebaseConfig);
      auth = getAuth(app);
      db = getFirestore(app);
      console.log("Firebase erfolgreich initialisiert");
    } catch (error) {
      console.error("Fehler bei der Firebase-Initialisierung:", error);
    }

    // DOM Elements
    const loginLink = document.getElementById('loginLink');

    // Überprüfe Authentifizierungsstatus
    onAuthStateChanged(auth, async (user) => {
      if (user) {
        // Benutzer ist eingeloggt
        console.log("Benutzer ist eingeloggt:", user.uid);
        
        try {
          // Benutzerdaten aus Firestore abrufen
          const userDoc = await getDoc(doc(db, "users", user.uid));
          
          if (userDoc.exists()) {
            const userData = userDoc.data();
            
            // Login-Link ändern
            loginLink.textContent = "Dashboard";
            
            // Link zum entsprechenden Dashboard setzen
            switch(userData.role) {
              case 'driver':
                loginLink.href = "driver-dashboard.html";
                break;
              case 'client':
                loginLink.href = "client-dashboard.html";
                break;
              case 'manager':
                loginLink.href = "manager-dashboard.html";
                break;
              default:
                loginLink.href = "login.html";
            }
          } else {
            console.log("Keine Benutzerdaten gefunden");
            loginLink.textContent = "Login";
            loginLink.href = "login.html";
          }
        } catch (error) {
          console.error("Fehler beim Abrufen der Benutzerdaten:", error);
        }
      } else {
        // Benutzer ist nicht eingeloggt
        console.log("Kein Benutzer eingeloggt");
        loginLink.textContent = "Login";
        loginLink.href = "login.html";
      }
    });
  </script>
</body>
</html> 